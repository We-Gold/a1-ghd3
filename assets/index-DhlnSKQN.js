(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tn={value:()=>{}};function we(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _t(n)}function _t(t){this._=t}function en(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_t.prototype=we.prototype={constructor:_t,on:function(t,e){var n=this._,r=en(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=nn(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=ee(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ee(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _t(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function nn(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ee(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=tn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Dt="http://www.w3.org/1999/xhtml";const ne={svg:"http://www.w3.org/2000/svg",xhtml:Dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ne.hasOwnProperty(e)?{space:ne[e],local:t}:t}function rn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Dt&&e.documentElement.namespaceURI===Dt?e.createElement(t):e.createElementNS(n,t)}}function on(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _e(t){var e=kt(t);return(e.local?on:rn)(e)}function sn(){}function Gt(t){return t==null?sn:function(){return this.querySelector(t)}}function an(t){typeof t!="function"&&(t=Gt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new S(r,this._parents)}function ln(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function cn(){return[]}function ve(t){return t==null?cn:function(){return this.querySelectorAll(t)}}function un(t){return function(){return ln(t.apply(this,arguments))}}function fn(t){typeof t=="function"?t=un(t):t=ve(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new S(r,i)}function Le(t){return function(){return this.matches(t)}}function be(t){return function(e){return e.matches(t)}}var hn=Array.prototype.find;function dn(t){return function(){return hn.call(this.children,t)}}function pn(){return this.firstElementChild}function gn(t){return this.select(t==null?pn:dn(typeof t=="function"?t:be(t)))}var mn=Array.prototype.filter;function yn(){return Array.from(this.children)}function xn(t){return function(){return mn.call(this.children,t)}}function wn(t){return this.selectAll(t==null?yn:xn(typeof t=="function"?t:be(t)))}function _n(t){typeof t!="function"&&(t=Le(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new S(r,this._parents)}function Me(t){return new Array(t.length)}function vn(){return new S(this._enter||this._groups.map(Me),this._parents)}function bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ln(t){return function(){return t}}function bn(t,e,n,r,i,o){for(var s=0,a,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new bt(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Mn(t,e,n,r,i,o,s){var a,l,c=new Map,u=e.length,f=o.length,h=new Array(u),d;for(a=0;a<u;++a)(l=e[a])&&(h[a]=d=s.call(l,l.__data__,a,e)+"",c.has(d)?i[a]=l:c.set(d,l));for(a=0;a<f;++a)d=s.call(t,o[a],a,o)+"",(l=c.get(d))?(r[a]=l,l.__data__=o[a],c.delete(d)):n[a]=new bt(t,o[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(h[a])===l&&(i[a]=l)}function Cn(t){return t.__data__}function Sn(t,e){if(!arguments.length)return Array.from(this,Cn);var n=e?Mn:bn,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ln(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],h=f.length,d=En(t.call(u,u&&u.__data__,c,r)),p=d.length,m=a[c]=new Array(p),x=s[c]=new Array(p),b=l[c]=new Array(h);n(u,f,m,x,b,d,e);for(var g=0,y=0,w,D;g<p;++g)if(w=m[g]){for(g>=y&&(y=g+1);!(D=x[y])&&++y<p;);w._next=D||null}}return s=new S(s,r),s._enter=a,s._exit=l,s}function En(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $n(){return new S(this._exit||this._groups.map(Me),this._parents)}function Nn(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function An(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,h=a[l]=new Array(f),d,p=0;p<f;++p)(d=c[p]||u[p])&&(h[p]=d);for(;l<i;++l)a[l]=n[l];return new S(a,this._parents)}function kn(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function In(t){t||(t=Tn);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new S(i,this._parents).order()}function Tn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Zn(){return Array.from(this)}function Dn(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Hn(){let t=0;for(const e of this)++t;return t}function Fn(){return!this.node()}function On(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function qn(t){return function(){this.removeAttribute(t)}}function Vn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pn(t,e){return function(){this.setAttribute(t,e)}}function Un(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Xn(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Bn(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gn(t,e){var n=kt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vn:qn:typeof e=="function"?n.local?Bn:Xn:n.local?Un:Pn)(n,e))}function Ce(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yn(t){return function(){this.style.removeProperty(t)}}function zn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Wn(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Kn(t,e,n){return arguments.length>1?this.each((e==null?Yn:typeof e=="function"?Wn:zn)(t,e,n??"")):W(this.node(),t)}function W(t,e){return t.style.getPropertyValue(e)||Ce(t).getComputedStyle(t,null).getPropertyValue(e)}function Qn(t){return function(){delete this[t]}}function Jn(t,e){return function(){this[t]=e}}function jn(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function tr(t,e){return arguments.length>1?this.each((e==null?Qn:typeof e=="function"?jn:Jn)(t,e)):this.node()[t]}function Se(t){return t.trim().split(/^|\s+/)}function Yt(t){return t.classList||new Ee(t)}function Ee(t){this._node=t,this._names=Se(t.getAttribute("class")||"")}Ee.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $e(t,e){for(var n=Yt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ne(t,e){for(var n=Yt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function er(t){return function(){$e(this,t)}}function nr(t){return function(){Ne(this,t)}}function rr(t,e){return function(){(e.apply(this,arguments)?$e:Ne)(this,t)}}function ir(t,e){var n=Se(t+"");if(arguments.length<2){for(var r=Yt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?rr:e?er:nr)(n,e))}function or(){this.textContent=""}function sr(t){return function(){this.textContent=t}}function ar(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function lr(t){return arguments.length?this.each(t==null?or:(typeof t=="function"?ar:sr)(t)):this.node().textContent}function cr(){this.innerHTML=""}function ur(t){return function(){this.innerHTML=t}}function fr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function hr(t){return arguments.length?this.each(t==null?cr:(typeof t=="function"?fr:ur)(t)):this.node().innerHTML}function dr(){this.nextSibling&&this.parentNode.appendChild(this)}function pr(){return this.each(dr)}function gr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mr(){return this.each(gr)}function yr(t){var e=typeof t=="function"?t:_e(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xr(){return null}function wr(t,e){var n=typeof t=="function"?t:_e(t),r=e==null?xr:typeof e=="function"?e:Gt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _r(){var t=this.parentNode;t&&t.removeChild(this)}function vr(){return this.each(_r)}function Lr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function br(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mr(t){return this.select(t?br:Lr)}function Cr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Sr(t){return function(e){t.call(this,e,this.__data__)}}function Er(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function $r(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Nr(t,e,n){return function(){var r=this.__on,i,o=Sr(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ar(t,e,n){var r=Er(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=e?Nr:$r,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function Ae(t,e,n){var r=Ce(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function kr(t,e){return function(){return Ae(this,t,e)}}function Ir(t,e){return function(){return Ae(this,t,e.apply(this,arguments))}}function Tr(t,e){return this.each((typeof e=="function"?Ir:kr)(t,e))}function*Rr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ke=[null];function S(t,e){this._groups=t,this._parents=e}function ut(){return new S([[document.documentElement]],ke)}function Zr(){return this}S.prototype=ut.prototype={constructor:S,select:an,selectAll:fn,selectChild:gn,selectChildren:wn,filter:_n,data:Sn,enter:vn,exit:$n,join:Nn,merge:An,selection:Zr,order:kn,sort:In,call:Rn,nodes:Zn,node:Dn,size:Hn,empty:Fn,each:On,attr:Gn,style:Kn,property:tr,classed:ir,text:lr,html:hr,raise:pr,lower:mr,append:yr,insert:wr,remove:vr,clone:Mr,datum:Cr,on:Ar,dispatch:Tr,[Symbol.iterator]:Rr};function Dr(t){return typeof t=="string"?new S([[document.querySelector(t)]],[document.documentElement]):new S([[t]],ke)}function zt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ie(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ft(){}var st=.7,Mt=1/st,z="\\s*([+-]?\\d+)\\s*",at="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",I="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hr=/^#([0-9a-f]{3,8})$/,Fr=new RegExp(`^rgb\\(${z},${z},${z}\\)$`),Or=new RegExp(`^rgb\\(${I},${I},${I}\\)$`),qr=new RegExp(`^rgba\\(${z},${z},${z},${at}\\)$`),Vr=new RegExp(`^rgba\\(${I},${I},${I},${at}\\)$`),Pr=new RegExp(`^hsl\\(${at},${I},${I}\\)$`),Ur=new RegExp(`^hsla\\(${at},${I},${I},${at}\\)$`),re={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zt(ft,lt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ie,formatHex:ie,formatHex8:Xr,formatHsl:Br,formatRgb:oe,toString:oe});function ie(){return this.rgb().formatHex()}function Xr(){return this.rgb().formatHex8()}function Br(){return Te(this).formatHsl()}function oe(){return this.rgb().formatRgb()}function lt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?se(e):n===3?new M(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fr.exec(t))?new M(e[1],e[2],e[3],1):(e=Or.exec(t))?new M(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qr.exec(t))?yt(e[1],e[2],e[3],e[4]):(e=Vr.exec(t))?yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pr.exec(t))?ce(e[1],e[2]/100,e[3]/100,1):(e=Ur.exec(t))?ce(e[1],e[2]/100,e[3]/100,e[4]):re.hasOwnProperty(t)?se(re[t]):t==="transparent"?new M(NaN,NaN,NaN,0):null}function se(t){return new M(t>>16&255,t>>8&255,t&255,1)}function yt(t,e,n,r){return r<=0&&(t=e=n=NaN),new M(t,e,n,r)}function Gr(t){return t instanceof ft||(t=lt(t)),t?(t=t.rgb(),new M(t.r,t.g,t.b,t.opacity)):new M}function Ht(t,e,n,r){return arguments.length===1?Gr(t):new M(t,e,n,r??1)}function M(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}zt(M,Ht,Ie(ft,{brighter(t){return t=t==null?Mt:Math.pow(Mt,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?st:Math.pow(st,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new M(U(this.r),U(this.g),U(this.b),Ct(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ae,formatHex:ae,formatHex8:Yr,formatRgb:le,toString:le}));function ae(){return`#${P(this.r)}${P(this.g)}${P(this.b)}`}function Yr(){return`#${P(this.r)}${P(this.g)}${P(this.b)}${P((isNaN(this.opacity)?1:this.opacity)*255)}`}function le(){const t=Ct(this.opacity);return`${t===1?"rgb(":"rgba("}${U(this.r)}, ${U(this.g)}, ${U(this.b)}${t===1?")":`, ${t})`}`}function Ct(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function U(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function P(t){return t=U(t),(t<16?"0":"")+t.toString(16)}function ce(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $(t,e,n,r)}function Te(t){if(t instanceof $)return new $(t.h,t.s,t.l,t.opacity);if(t instanceof ft||(t=lt(t)),!t)return new $;if(t instanceof $)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new $(s,a,l,t.opacity)}function zr(t,e,n,r){return arguments.length===1?Te(t):new $(t,e,n,r??1)}function $(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}zt($,zr,Ie(ft,{brighter(t){return t=t==null?Mt:Math.pow(Mt,t),new $(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?st:Math.pow(st,t),new $(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new M(Rt(t>=240?t-240:t+120,i,r),Rt(t,i,r),Rt(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $(ue(this.h),xt(this.s),xt(this.l),Ct(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ct(this.opacity);return`${t===1?"hsl(":"hsla("}${ue(this.h)}, ${xt(this.s)*100}%, ${xt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ue(t){return t=(t||0)%360,t<0?t+360:t}function xt(t){return Math.max(0,Math.min(1,t||0))}function Rt(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Re=t=>()=>t;function Wr(t,e){return function(n){return t+n*e}}function Kr(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qr(t){return(t=+t)==1?Ze:function(e,n){return n-e?Kr(e,n,t):Re(isNaN(e)?n:e)}}function Ze(t,e){var n=e-t;return n?Wr(t,n):Re(isNaN(t)?e:t)}const fe=(function t(e){var n=Qr(e);function r(i,o){var s=n((i=Ht(i)).r,(o=Ht(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Ze(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r})(1);function H(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ft=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zt=new RegExp(Ft.source,"g");function Jr(t){return function(){return t}}function jr(t){return function(e){return t(e)+""}}function ti(t,e){var n=Ft.lastIndex=Zt.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Ft.exec(t))&&(i=Zt.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:H(r,i)})),n=Zt.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?jr(l[0].x):Jr(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var he=180/Math.PI,Ot={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function De(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*he,skewX:Math.atan(l)*he,scaleX:s,scaleY:a}}var wt;function ei(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ot:De(e.a,e.b,e.c,e.d,e.e,e.f)}function ni(t){return t==null||(wt||(wt=document.createElementNS("http://www.w3.org/2000/svg","g")),wt.setAttribute("transform",t),!(t=wt.transform.baseVal.consolidate()))?Ot:(t=t.matrix,De(t.a,t.b,t.c,t.d,t.e,t.f))}function He(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,h,d,p){if(c!==f||u!==h){var m=d.push("translate(",null,e,null,n);p.push({i:m-4,x:H(c,f)},{i:m-2,x:H(u,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function s(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:H(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,h){c!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:H(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,h,d,p){if(c!==f||u!==h){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:H(c,f)},{i:m-2,x:H(u,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=t(c),u=t(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,h),s(c.rotate,u.rotate,f,h),a(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(d){for(var p=-1,m=h.length,x;++p<m;)f[(x=h[p]).i]=x.x(d);return f.join("")}}}var ri=He(ei,"px, ","px)","deg)"),ii=He(ni,", ",")",")"),K=0,rt=0,nt=0,Fe=1e3,St,it,Et=0,X=0,It=0,ct=typeof performance=="object"&&performance.now?performance:Date,Oe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wt(){return X||(Oe(oi),X=ct.now()+It)}function oi(){X=0}function $t(){this._call=this._time=this._next=null}$t.prototype=qe.prototype={constructor:$t,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Wt():+n)+(e==null?0:+e),!this._next&&it!==this&&(it?it._next=this:St=this,it=this),this._call=t,this._time=n,qt()},stop:function(){this._call&&(this._call=null,this._time=1/0,qt())}};function qe(t,e,n){var r=new $t;return r.restart(t,e,n),r}function si(){Wt(),++K;for(var t=St,e;t;)(e=X-t._time)>=0&&t._call.call(void 0,e),t=t._next;--K}function de(){X=(Et=ct.now())+It,K=rt=0;try{si()}finally{K=0,li(),X=0}}function ai(){var t=ct.now(),e=t-Et;e>Fe&&(It-=e,Et=t)}function li(){for(var t,e=St,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:St=n);it=t,qt(r)}function qt(t){if(!K){rt&&(rt=clearTimeout(rt));var e=t-X;e>24?(t<1/0&&(rt=setTimeout(de,t-ct.now()-It)),nt&&(nt=clearInterval(nt))):(nt||(Et=ct.now(),nt=setInterval(ai,Fe)),K=1,Oe(de))}}function pe(t,e,n){var r=new $t;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ci=we("start","end","cancel","interrupt"),ui=[],Ve=0,ge=1,Vt=2,vt=3,me=4,Pt=5,Lt=6;function Tt(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;fi(t,n,{name:e,index:r,group:i,on:ci,tween:ui,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ve})}function Kt(t,e){var n=N(t,e);if(n.state>Ve)throw new Error("too late; already scheduled");return n}function T(t,e){var n=N(t,e);if(n.state>vt)throw new Error("too late; already running");return n}function N(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fi(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=qe(o,0,n.time);function o(c){n.state=ge,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,h,d;if(n.state!==ge)return l();for(u in r)if(d=r[u],d.name===n.name){if(d.state===vt)return pe(s);d.state===me?(d.state=Lt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=Lt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(pe(function(){n.state===vt&&(n.state=me,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Vt,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Vt){for(n.state=vt,i=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Pt,1),f=-1,h=i.length;++f<h;)i[f].call(t,u);n.state===Pt&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Lt,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function hi(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Vt&&r.state<Pt,r.state=Lt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function di(t){return this.each(function(){hi(this,t)})}function pi(t,e){var n,r;return function(){var i=T(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function gi(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=T(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function mi(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=N(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?pi:gi)(n,t,e))}function Qt(t,e,n){var r=t._id;return t.each(function(){var i=T(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return N(i,r).value[e]}}function Pe(t,e){var n;return(typeof e=="number"?H:e instanceof lt?fe:(n=lt(e))?(e=n,fe):ti)(t,e)}function yi(t){return function(){this.removeAttribute(t)}}function xi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wi(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function _i(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function vi(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Li(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function bi(t,e){var n=kt(t),r=n==="transform"?ii:Pe;return this.attrTween(t,typeof e=="function"?(n.local?Li:vi)(n,r,Qt(this,"attr."+t,e)):e==null?(n.local?xi:yi)(n):(n.local?_i:wi)(n,r,e))}function Mi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ci(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Si(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ci(t,o)),n}return i._value=e,i}function Ei(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Mi(t,o)),n}return i._value=e,i}function $i(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=kt(t);return this.tween(n,(r.local?Si:Ei)(r,e))}function Ni(t,e){return function(){Kt(this,t).delay=+e.apply(this,arguments)}}function Ai(t,e){return e=+e,function(){Kt(this,t).delay=e}}function ki(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ni:Ai)(e,t)):N(this.node(),e).delay}function Ii(t,e){return function(){T(this,t).duration=+e.apply(this,arguments)}}function Ti(t,e){return e=+e,function(){T(this,t).duration=e}}function Ri(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ii:Ti)(e,t)):N(this.node(),e).duration}function Zi(t,e){if(typeof e!="function")throw new Error;return function(){T(this,t).ease=e}}function Di(t){var e=this._id;return arguments.length?this.each(Zi(e,t)):N(this.node(),e).ease}function Hi(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;T(this,t).ease=n}}function Fi(t){if(typeof t!="function")throw new Error;return this.each(Hi(this._id,t))}function Oi(t){typeof t!="function"&&(t=Le(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new Z(r,this._parents,this._name,this._id)}function qi(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],c=n[a],u=l.length,f=s[a]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;a<r;++a)s[a]=e[a];return new Z(s,this._parents,this._name,this._id)}function Vi(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Pi(t,e,n){var r,i,o=Vi(e)?Kt:T;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Ui(t,e){var n=this._id;return arguments.length<2?N(this.node(),n).on.on(t):this.each(Pi(n,t,e))}function Xi(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Bi(){return this.on("end.remove",Xi(this._id))}function Gi(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gt(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=t.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,Tt(c[h],e,n,h,c,N(u,n)));return new Z(o,this._parents,e,n)}function Yi(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ve(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=t.call(u,u.__data__,f,l),d,p=N(u,n),m=0,x=h.length;m<x;++m)(d=h[m])&&Tt(d,e,n,m,h,p);o.push(h),s.push(u)}return new Z(o,s,e,n)}var zi=ut.prototype.constructor;function Wi(){return new zi(this._groups,this._parents)}function Ki(t,e){var n,r,i;return function(){var o=W(this,t),s=(this.style.removeProperty(t),W(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Ue(t){return function(){this.style.removeProperty(t)}}function Qi(t,e,n){var r,i=n+"",o;return function(){var s=W(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ji(t,e,n){var r,i,o;return function(){var s=W(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),W(this,t))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function ji(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var l=T(this,t),c=l.on,u=l.value[o]==null?a||(a=Ue(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function to(t,e,n){var r=(t+="")=="transform"?ri:Pe;return e==null?this.styleTween(t,Ki(t,r)).on("end.style."+t,Ue(t)):typeof e=="function"?this.styleTween(t,Ji(t,r,Qt(this,"style."+t,e))).each(ji(this._id,t)):this.styleTween(t,Qi(t,r,e),n).on("end.style."+t,null)}function eo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function no(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&eo(t,s,n)),r}return o._value=e,o}function ro(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,no(t,e,n??""))}function io(t){return function(){this.textContent=t}}function oo(t){return function(){var e=t(this);this.textContent=e??""}}function so(t){return this.tween("text",typeof t=="function"?oo(Qt(this,"text",t)):io(t==null?"":t+""))}function ao(t){return function(e){this.textContent=t.call(this,e)}}function lo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ao(i)),e}return r._value=t,r}function co(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,lo(t))}function uo(){for(var t=this._name,e=this._id,n=Xe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=N(l,e);Tt(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Z(r,this._parents,t,n)}function fo(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=T(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&o()})}var ho=0;function Z(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Xe(){return++ho}var R=ut.prototype;Z.prototype={constructor:Z,select:Gi,selectAll:Yi,selectChild:R.selectChild,selectChildren:R.selectChildren,filter:Oi,merge:qi,selection:Wi,transition:uo,call:R.call,nodes:R.nodes,node:R.node,size:R.size,empty:R.empty,each:R.each,on:Ui,attr:bi,attrTween:$i,style:to,styleTween:ro,text:so,textTween:co,remove:Bi,tween:mi,delay:ki,duration:Ri,ease:Di,easeVarying:Fi,end:fo,[Symbol.iterator]:R[Symbol.iterator]};function po(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var go={time:null,delay:0,duration:250,ease:po};function mo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function yo(t){var e,n;t instanceof Z?(e=t._id,t=t._name):(e=Xe(),(n=go).time=Wt(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&Tt(l,t,e,c,s,n||mo(l,e));return new Z(r,this._parents,t,e)}ut.prototype.interrupt=di;ut.prototype.transition=yo;function ot(t,e,n){this.k=t,this.x=e,this.y=n}ot.prototype={constructor:ot,scale:function(t){return t===1?this:new ot(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ot(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ot.prototype;const Be="time",Ut="sundial",xo=600,Y=xo/2-20,Xt=.6,wo=42.27411618036735,_o=-71.80798184501921,v=t=>t*Math.PI/180,vo=t=>t*180/Math.PI,Lo=t=>{const e=(t%12+12)%12||12;return["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][e-1]},Ge=()=>new Date,bo=()=>Math.floor(Ge().getTime()/1e3),Mo=t=>{const e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};var F=(t=>(t[t.Line=0]="Line",t[t.Wedge=1]="Wedge",t[t.RightTriangle=2]="RightTriangle",t[t.CurvedWall=3]="CurvedWall",t))(F||{});const Co=2,So=22,Ye=12,ze=360/24,ht=(t,e,n)=>(t-e)*n,dt=(t,e,n,r)=>{const i=ht(t,e,n),o=Math.tan(v(i))*Math.sin(v(r));let s=vo(Math.atan(o));return Math.abs(i)>90&&(s+=180),s},Eo=(t,e,n=!0)=>{const i={x:0,y:60},o=120/2;if(t.append("circle").attr("cx",0).attr("cy",0).attr("r",120).attr("stroke","black").attr("stroke-opacity",.5).attr("stroke-width",1.5).attr("fill","none"),n){t.append("circle").attr("cx",i.x).attr("cy",i.y).attr("r",o).attr("stroke","black").attr("stroke-opacity",.1).attr("stroke-width",1.5).attr("fill","none");const s="rgba(0, 0, 0, 0.3)",a=2,l=18,c="22px",f=2*(o-32);t.append("rect").attr("x",i.x-a/2).attr("y",i.y-f/2).attr("width",a).attr("height",f).attr("fill",s),t.append("rect").attr("x",i.x-f/2).attr("y",i.y-a/2).attr("width",f).attr("height",a).attr("fill",s);const h=15,d=1,p=f*.5;if(Number.isFinite(h)&&h>0){const x=t.append("g").attr("transform",`translate(${i.x}, ${i.y})`);for(let b=0;b<360;b+=h)(b%360+360)%360%90!==0&&x.append("rect").attr("x",-d/2).attr("y",-p/2).attr("width",d).attr("height",p).attr("transform",`rotate(${b})`).attr("fill","rgba(0, 0, 0, 0.2)")}const m=(x,b,g)=>{t.append("text").attr("x",b).attr("y",g).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",c).attr("font-family","Gideon Roman").attr("fill",s).text(x)};m("N",i.x,i.y-(o-l)+5),m("E",i.x+(o-l)-4,i.y+1),m("S",i.x,i.y+(o-l)),m("W",i.x-(o-l)+2,i.y+1)}for(let s=Co;s<=So;s++){const a=dt(s,Ye,ze,e),l=v(a-90),c=(Y-50)*Math.cos(l),u=(Y-50)*Math.sin(l),f=120*Math.cos(l),h=120*Math.sin(l);t.append("line").attr("x1",c).attr("y1",u).attr("x2",f).attr("y2",h).attr("stroke","rgba(0, 0, 0, 0.5)").attr("stroke-width",1.5);const d=(Y-30)*Math.cos(l),p=(Y-30)*Math.sin(l),m=a-90;t.append("text").attr("transform",`translate(${d}, ${p}) rotate(${m+90})`).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","28px").attr("font-family","Gideon Roman").text(Lo(s))}},$o=(t,e,n,r,i,o)=>{const s=-o*Math.cos(v(e));t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",s).attr("stroke","black").attr("stroke-width",4);const a=v(dt(n,r,i,e)),l=v(ht(n,r,i)),c=Math.asin(Math.cos(v(e))*Math.cos(l)),u=Math.tan(c);if(!Number.isFinite(u)||Math.abs(u)<1e-6)return;const f=o/Math.abs(u),h={x:f*Math.sin(a),y:-f*Math.cos(a)};t.append("line").attr("x1",0).attr("y1",0).attr("x2",h.x).attr("y2",h.y).attr("stroke","rgba(0, 0, 0, 0.5)").attr("stroke-width",2)},No=(t,e,n,r,i,o)=>{const s=-o*Math.cos(v(e)),a=18,l={x:-a/2,y:0},c={x:a/2,y:0},u={x:0,y:s};t.append("polygon").attr("points",`${l.x},${l.y} ${c.x},${c.y} ${u.x},${u.y}`).attr("fill","black").attr("stroke","black").attr("stroke-width",2);const f=v(dt(n,r,i,e)),h=v(ht(n,r,i)),d=Math.asin(Math.cos(v(e))*Math.cos(h)),p=Math.tan(d);if(!Number.isFinite(p)||Math.abs(p)<1e-6)return;const m=o/Math.abs(p),x={x:m*Math.sin(f),y:-m*Math.cos(f)};t.append("polygon").attr("points",`${l.x},${l.y} ${c.x},${c.y} ${x.x},${x.y}`).attr("fill","rgba(0, 0, 0, 0.25)")},Ao=(t,e,n,r,i,o)=>{const s={x:0,y:-o*Math.cos(v(e))},l={x:s.x+8,y:s.y},c={x:0,y:0};t.append("polygon").attr("points",`${c.x},${c.y} ${s.x},${s.y} ${l.x},${l.y}`).attr("fill","black").attr("stroke","black").attr("stroke-width",2);const u=v(dt(n,r,i,e)),f=v(ht(n,r,i)),h=Math.asin(Math.cos(v(e))*Math.cos(f)),d=Math.tan(h);if(!Number.isFinite(d)||Math.abs(d)<1e-6)return;const p=o/Math.abs(d),m={x:p*Math.sin(u),y:-p*Math.cos(u)};t.append("polygon").attr("points",`${c.x},${c.y} ${s.x},${s.y} ${m.x},${m.y}`).attr("fill","rgba(0, 0, 0, 0.25)")},ko=(t,e,n,r,i,o)=>{const s={x:0,y:0},a={x:0,y:-o*Math.cos(v(e))},c={x:a.x+10,y:a.y},u=(_,L)=>({x:(_.x+L.x)/2,y:(_.y+L.y)/2}),f=(_,L)=>Math.hypot(_.x-L.x,_.y-L.y),h=_=>{const L=Math.hypot(_.x,_.y);return L===0?{x:0,y:0}:{x:_.x/L,y:_.y/L}},d=(_,L)=>({x:_.x+L.x,y:_.y+L.y}),p=(_,L)=>({x:_.x*L,y:_.y*L}),m=(_,L)=>({x:_.x-L.x,y:_.y-L.y}),x=u(a,c),b=h(m(s,x)),g=Math.min(14,f(a,c)*1.2),y=d(x,p(b,g)),w=`M ${s.x} ${s.y} L ${a.x} ${a.y} Q ${y.x} ${y.y} ${c.x} ${c.y} Z`;t.append("path").attr("d",w).attr("fill","black").attr("stroke","black").attr("stroke-width",2);const D=v(dt(n,r,i,e)),gt=v(ht(n,r,i)),et=Math.asin(Math.cos(v(e))*Math.cos(gt)),O=Math.tan(et);if(!Number.isFinite(O)||Math.abs(O)<1e-6)return;const Jt=o/Math.abs(O),mt={x:Jt*Math.sin(D),y:-Jt*Math.cos(D)},jt=u(a,mt),Qe=h(m(s,jt)),Je=Math.min(18,f(a,mt)*.15),te=d(jt,p(Qe,Je)),je=`M ${s.x} ${s.y} L ${a.x} ${a.y} Q ${te.x} ${te.y} ${mt.x} ${mt.y} Z`;t.append("path").attr("d",je).attr("fill","rgba(0, 0, 0, 0.25)")},Q=(t,e=3,n=Xt,r)=>{const i=Ge(),o=new Date(i);r&&o.setHours(r.hours,r.minutes,0,0);const s=o.getHours(),a=o.getMinutes(),l=Mo(o);document.getElementById(Be).textContent=l;const c=Dr(`#${Ut}`);c.selectAll("*").remove();const f=document.getElementById(Ut)?.getBoundingClientRect(),h=Math.max(1,window.innerWidth),d=Math.max(1,window.innerHeight),p=f?f.left+f.width/2:h/2,m=f?f.top+f.height/2:d/2,x=Y,b=c.append("svg").attr("class","sundial-canvas").attr("width",h).attr("height",d).attr("viewBox",`0 0 ${h} ${d}`).append("g").attr("transform",`translate(${p}, ${m})`);b.append("circle").attr("r",x).attr("fill","#FFD700").attr("stroke","black").attr("stroke-width",2),Eo(b,t.latitudeDegrees,!1);const g=Number.isFinite(n)?Math.min(.9,Math.max(.3,n)):Xt,y=Y*g,w=[b,t.latitudeDegrees,s+a/60,Ye,ze,y];switch(e){case 0:$o(...w);break;case 1:No(...w);break;case 2:Ao(...w);break;case 3:ko(...w);break}},Bt={latitudeDegrees:wo,longitudeDegrees:_o},B=()=>Bt,Io=()=>new Promise((t,e)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t,e):e(new Error("Geolocation is not supported by this browser."))}),To=async()=>{try{const t=await Io();Bt.latitudeDegrees=t.coords.latitude,Bt.longitudeDegrees=t.coords.longitude}catch(t){console.error("Error fetching user location:",t)}},We="sundial.gnomonStyle",ye="sundial.gnomonLengthScale";let G=F.CurvedWall,q=Xt,Nt=!1,A=!1,k=null,V=!1,C=null,E=null;const Ro=()=>{try{const t=localStorage.getItem(We);if(t===null)return null;const e=Number(t);return Number.isInteger(e)&&e in F?e:null}catch{return null}},J=()=>G,j=()=>q,tt=()=>{if(!Nt||!A||!k)return null;const t=/^([01]\d|2[0-3]):([0-5]\d)$/.exec(k);return t?{hours:Number(t[1]),minutes:Number(t[2])}:null},pt=()=>!Nt||!V||C===null||E===null||!Number.isFinite(C)||!Number.isFinite(E)||C<-90||C>90||E<-180||E>180?null:{latitudeDegrees:C,longitudeDegrees:E},Zo=()=>{const t=document.getElementById("settings-panel");if(!t)return;const e=document.getElementById("settings-btn"),n=()=>{if(!e)return;const g=!t.classList.contains("hidden");Nt=g,e.classList.toggle("active",g),e.setAttribute("aria-expanded",String(g))},r=Ro();r!==null&&(G=r);try{const g=localStorage.getItem(ye);if(g!==null){const y=Number(g);Number.isFinite(y)&&y>=.3&&y<=.9&&(q=y)}}catch{}e?.addEventListener("click",g=>{if(g.preventDefault(),t.classList.toggle("hidden"),n(),!Nt){A=!1,k=null,V=!1,C=null,E=null;const y=t.querySelector("#custom-time-enabled"),w=t.querySelector("#custom-time-hour"),D=t.querySelector("#custom-time-minute");y&&(y.checked=!1),w&&(w.disabled=!0),D&&(D.disabled=!0),window.dispatchEvent(new CustomEvent("sundial:customTimeChanged"));const gt=t.querySelector("#custom-location-enabled"),et=t.querySelector("#custom-latitude"),O=t.querySelector("#custom-longitude");gt&&(gt.checked=!1),et&&(et.value="",et.disabled=!0),O&&(O.value="",O.disabled=!0),window.dispatchEvent(new CustomEvent("sundial:customLocationChanged"))}}),n(),t.innerHTML=`
		<h2>Settings</h2>
		<label for="gnomon-style-select">Sundial mode</label>
		<select id="gnomon-style-select">
			<option value="${F.Line}">Line</option>
			<option value="${F.Wedge}">Wedge</option>
			<option value="${F.RightTriangle}">Right triangle</option>
			<option value="${F.CurvedWall}">Curved wall</option>
		</select>
		<label for="gnomon-length-scale">Gnomon length</label>
		<input
			id="gnomon-length-scale"
			type="range"
			min="0.3"
			max="0.9"
			step="0.01"
			value="${q}"
		/>
		<div class="settings-row">
			<input id="custom-time-enabled" type="checkbox" />
			<label for="custom-time-enabled">Use custom time</label>
		</div>
		<label>Custom time (24-hour)</label>
		<div class="settings-time">
			<select id="custom-time-hour" aria-label="Custom hour" disabled>
				${Array.from({length:24}).map((g,y)=>{const w=String(y).padStart(2,"0");return`<option value="${w}">${w}</option>`}).join("")}
			</select>
			<span>:</span>
			<select id="custom-time-minute" aria-label="Custom minute" disabled>
				${Array.from({length:60}).map((g,y)=>{const w=String(y).padStart(2,"0");return`<option value="${w}">${w}</option>`}).join("")}
			</select>
		</div>
		<div class="settings-row">
			<input id="custom-location-enabled" type="checkbox" />
			<label for="custom-location-enabled">Use custom location</label>
		</div>
		<label for="custom-latitude">Latitude</label>
		<input id="custom-latitude" type="number" step="0.0001" min="-90" max="90" disabled />
		<label for="custom-longitude">Longitude</label>
		<input id="custom-longitude" type="number" step="0.0001" min="-180" max="180" disabled />
	`;const i=t.querySelector("#gnomon-style-select");if(!i)return;i.value=String(G),i.addEventListener("change",()=>{const g=Number(i.value);if(Number.isInteger(g)&&g in F){G=g;try{localStorage.setItem(We,String(G))}catch{}window.dispatchEvent(new CustomEvent("sundial:gnomonStyleChanged",{detail:G}))}});const o=t.querySelector("#gnomon-length-scale");if(!o)return;const s=g=>Math.min(.9,Math.max(.3,g));o.value=String(q),o.addEventListener("input",()=>{const g=s(Number(o.value));if(Number.isFinite(g)){q=g;try{localStorage.setItem(ye,String(q))}catch{}window.dispatchEvent(new CustomEvent("sundial:gnomonLengthScaleChanged",{detail:q}))}});const a=t.querySelector("#custom-time-enabled"),l=t.querySelector("#custom-time-hour"),c=t.querySelector("#custom-time-minute");if(!a||!l||!c)return;const u=g=>{const y=/^([01]\d|2[0-3]):([0-5]\d)$/.exec(g);y&&(l.value=y[1],c.value=y[2])},f=()=>{k=`${l.value}:${c.value}`};a.checked=A,l.disabled=!A,c.disabled=!A,k?u(k):(l.value="12",c.value="00"),a.addEventListener("change",()=>{if(A=a.checked,l.disabled=!A,c.disabled=!A,!A)k=null;else if(!k){const g=new Date,y=String(g.getHours()).padStart(2,"0"),w=String(g.getMinutes()).padStart(2,"0");k=`${y}:${w}`,u(k)}window.dispatchEvent(new CustomEvent("sundial:customTimeChanged"))});const h=()=>{A&&(f(),window.dispatchEvent(new CustomEvent("sundial:customTimeChanged")))};l.addEventListener("change",h),c.addEventListener("change",h);const d=t.querySelector("#custom-location-enabled"),p=t.querySelector("#custom-latitude"),m=t.querySelector("#custom-longitude");if(!d||!p||!m)return;const x=()=>{p.disabled=!V,m.disabled=!0};d.checked=V,x(),C!==null&&(p.value=String(C)),E!==null&&(m.value=String(E)),d.addEventListener("change",()=>{if(V=d.checked,x(),!V)C=null,E=null,p.value="",m.value="";else if(C===null||E===null){const g=B();C=g.latitudeDegrees,E=g.longitudeDegrees,p.value=String(C),m.value=String(E)}window.dispatchEvent(new CustomEvent("sundial:customLocationChanged"))});const b=()=>{V&&(C=Number(p.value),window.dispatchEvent(new CustomEvent("sundial:customLocationChanged")))};p.addEventListener("input",b)};document.querySelector("#app").innerHTML=`
  <div id="container">
    <h1 id=${Be}></h1>
    <div id=${Ut}></div>
  </div>
  <a id="locate-btn" href="" target="_blank" rel="noopener noreferrer" title="Use Current Location (WPI is default)">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
      <circle cx="12" cy="10" r="3"></circle>
    </svg>
  </a>
  <a id="settings-btn" href="" target="_blank" rel="noopener noreferrer" title="Settings">
    <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
      <path d="M13.5 2L13.9961 1.93798C13.9649 1.68777 13.7522 1.5 13.5 1.5V2ZM10.5 2V1.5C10.2478 1.5 10.0351 1.68777 10.0039 1.93798L10.5 2ZM13.7747 4.19754L13.2786 4.25955C13.3047 4.46849 13.4589 4.63867 13.6642 4.68519L13.7747 4.19754ZM16.2617 5.22838L15.995 5.6513C16.1731 5.76362 16.4024 5.75233 16.5687 5.62306L16.2617 5.22838ZM18.0104 3.86826L18.364 3.51471C18.1857 3.3364 17.9025 3.31877 17.7034 3.47359L18.0104 3.86826ZM20.1317 5.98958L20.5264 6.29655C20.6812 6.09751 20.6636 5.81434 20.4853 5.63603L20.1317 5.98958ZM18.7716 7.73831L18.3769 7.43134C18.2477 7.59754 18.2364 7.82693 18.3487 8.00503L18.7716 7.73831ZM19.8025 10.2253L19.3148 10.3358C19.3613 10.5411 19.5315 10.6953 19.7404 10.7214L19.8025 10.2253ZM22 10.5H22.5C22.5 10.2478 22.3122 10.0351 22.062 10.0039L22 10.5ZM22 13.5L22.062 13.9961C22.3122 13.9649 22.5 13.7522 22.5 13.5H22ZM19.8025 13.7747L19.7404 13.2786C19.5315 13.3047 19.3613 13.4589 19.3148 13.6642L19.8025 13.7747ZM18.7716 16.2617L18.3487 15.995C18.2364 16.1731 18.2477 16.4025 18.3769 16.5687L18.7716 16.2617ZM20.1317 18.0104L20.4853 18.364C20.6636 18.1857 20.6812 17.9025 20.5264 17.7034L20.1317 18.0104ZM18.0104 20.1317L17.7034 20.5264C17.9025 20.6812 18.1857 20.6636 18.364 20.4853L18.0104 20.1317ZM16.2617 18.7716L16.5687 18.3769C16.4024 18.2477 16.1731 18.2364 15.995 18.3487L16.2617 18.7716ZM13.7747 19.8025L13.6642 19.3148C13.4589 19.3613 13.3047 19.5315 13.2786 19.7404L13.7747 19.8025ZM13.5 22V22.5C13.7522 22.5 13.9649 22.3122 13.9961 22.062L13.5 22ZM10.5 22L10.0039 22.062C10.0351 22.3122 10.2478 22.5 10.5 22.5V22ZM10.2253 19.8025L10.7214 19.7404C10.6953 19.5315 10.5411 19.3613 10.3358 19.3148L10.2253 19.8025ZM7.73832 18.7716L8.00504 18.3487C7.82694 18.2364 7.59756 18.2477 7.43135 18.3769L7.73832 18.7716ZM5.98959 20.1317L5.63604 20.4853C5.81435 20.6636 6.09752 20.6812 6.29656 20.5264L5.98959 20.1317ZM3.86827 18.0104L3.4736 17.7034C3.31878 17.9025 3.33641 18.1857 3.51472 18.364L3.86827 18.0104ZM5.22839 16.2617L5.62307 16.5687C5.75234 16.4025 5.76363 16.1731 5.65131 15.995L5.22839 16.2617ZM4.19754 13.7747L4.68519 13.6642C4.63867 13.4589 4.46849 13.3047 4.25955 13.2786L4.19754 13.7747ZM2 13.5H1.5C1.5 13.7522 1.68777 13.9649 1.93798 13.9961L2 13.5ZM2 10.5L1.93798 10.0039C1.68777 10.0351 1.5 10.2478 1.5 10.5H2ZM4.19754 10.2253L4.25955 10.7214C4.46849 10.6953 4.63867 10.5411 4.68519 10.3358L4.19754 10.2253ZM5.22839 7.73831L5.65131 8.00503C5.76363 7.82693 5.75234 7.59755 5.62307 7.43134L5.22839 7.73831ZM3.86827 5.98959L3.51472 5.63603C3.33641 5.81434 3.31878 6.09751 3.47359 6.29656L3.86827 5.98959ZM5.98959 3.86827L6.29656 3.47359C6.09752 3.31878 5.81434 3.33641 5.63604 3.51471L5.98959 3.86827ZM7.73832 5.22839L7.43135 5.62306C7.59755 5.75233 7.82694 5.76363 8.00504 5.6513L7.73832 5.22839ZM10.2253 4.19754L10.3358 4.68519C10.5411 4.63867 10.6953 4.46849 10.7214 4.25955L10.2253 4.19754ZM13.5 1.5H10.5V2.5H13.5V1.5ZM14.2708 4.13552L13.9961 1.93798L13.0039 2.06202L13.2786 4.25955L14.2708 4.13552ZM16.5284 4.80547C15.7279 4.30059 14.8369 3.92545 13.8851 3.70989L13.6642 4.68519C14.503 4.87517 15.2886 5.20583 15.995 5.6513L16.5284 4.80547ZM16.5687 5.62306L18.3174 4.26294L17.7034 3.47359L15.9547 4.83371L16.5687 5.62306ZM17.6569 4.22182L19.7782 6.34314L20.4853 5.63603L18.364 3.51471L17.6569 4.22182ZM19.7371 5.68261L18.3769 7.43134L19.1663 8.04528L20.5264 6.29655L19.7371 5.68261ZM20.2901 10.1149C20.0746 9.16313 19.6994 8.27213 19.1945 7.47158L18.3487 8.00503C18.7942 8.71138 19.1248 9.49695 19.3148 10.3358L20.2901 10.1149ZM22.062 10.0039L19.8645 9.72917L19.7404 10.7214L21.938 10.9961L22.062 10.0039ZM22.5 13.5V10.5H21.5V13.5H22.5ZM19.8645 14.2708L22.062 13.9961L21.938 13.0039L19.7404 13.2786L19.8645 14.2708ZM19.1945 16.5284C19.6994 15.7279 20.0746 14.8369 20.2901 13.8851L19.3148 13.6642C19.1248 14.503 18.7942 15.2886 18.3487 15.995L19.1945 16.5284ZM20.5264 17.7034L19.1663 15.9547L18.3769 16.5687L19.7371 18.3174L20.5264 17.7034ZM18.364 20.4853L20.4853 18.364L19.7782 17.6569L17.6569 19.7782L18.364 20.4853ZM15.9547 19.1663L17.7034 20.5264L18.3174 19.7371L16.5687 18.3769L15.9547 19.1663ZM13.8851 20.2901C14.8369 20.0746 15.7279 19.6994 16.5284 19.1945L15.995 18.3487C15.2886 18.7942 14.503 19.1248 13.6642 19.3148L13.8851 20.2901ZM13.9961 22.062L14.2708 19.8645L13.2786 19.7404L13.0039 21.938L13.9961 22.062ZM10.5 22.5H13.5V21.5H10.5V22.5ZM9.72917 19.8645L10.0039 22.062L10.9961 21.938L10.7214 19.7404L9.72917 19.8645ZM7.4716 19.1945C8.27214 19.6994 9.16314 20.0746 10.1149 20.2901L10.3358 19.3148C9.49696 19.1248 8.71139 18.7942 8.00504 18.3487L7.4716 19.1945ZM6.29656 20.5264L8.04529 19.1663L7.43135 18.3769L5.68262 19.7371L6.29656 20.5264ZM3.51472 18.364L5.63604 20.4853L6.34315 19.7782L4.22183 17.6569L3.51472 18.364ZM4.83372 15.9547L3.4736 17.7034L4.26295 18.3174L5.62307 16.5687L4.83372 15.9547ZM3.70989 13.8851C3.92545 14.8369 4.30059 15.7279 4.80547 16.5284L5.65131 15.995C5.20584 15.2886 4.87517 14.503 4.68519 13.6642L3.70989 13.8851ZM1.93798 13.9961L4.13552 14.2708L4.25955 13.2786L2.06202 13.0039L1.93798 13.9961ZM1.5 10.5V13.5H2.5V10.5H1.5ZM4.13552 9.72917L1.93798 10.0039L2.06202 10.9961L4.25955 10.7214L4.13552 9.72917ZM4.80547 7.47159C4.30059 8.27213 3.92545 9.16313 3.70989 10.1149L4.68519 10.3358C4.87517 9.49696 5.20583 8.71138 5.65131 8.00503L4.80547 7.47159ZM3.47359 6.29656L4.83371 8.04528L5.62307 7.43134L4.26295 5.68262L3.47359 6.29656ZM5.63604 3.51471L3.51472 5.63603L4.22182 6.34314L6.34314 4.22182L5.63604 3.51471ZM8.04529 4.83371L6.29656 3.47359L5.68262 4.26294L7.43135 5.62306L8.04529 4.83371ZM10.1149 3.70989C9.16313 3.92545 8.27214 4.30059 7.4716 4.80547L8.00504 5.6513C8.71139 5.20583 9.49696 4.87517 10.3358 4.68519L10.1149 3.70989ZM10.0039 1.93798L9.72917 4.13552L10.7214 4.25955L10.9961 2.06202L10.0039 1.93798Z" />
      <circle cx="12" cy="12" r="4" stroke-width="2" stroke-linejoin="round"/>
    </svg>
  </a>
  <div id="settings-panel" class="hidden"></div>
`;document.getElementById("locate-btn")?.addEventListener("click",t=>{t.preventDefault(),To().catch(e=>{console.error("Error fetching user location on button click:",e)})});Zo();let At=null,xe=null;const Ke=()=>{const t=bo();if(xe!==t){xe=t;const e=B(),n=pt(),r=n?{...e,...n}:e;Q(r,J(),j(),tt())}At=requestAnimationFrame(Ke)};window.addEventListener("sundial:gnomonStyleChanged",()=>{const t=B(),e=pt(),n=e?{...t,...e}:t;Q(n,J(),j(),tt())});window.addEventListener("sundial:gnomonLengthScaleChanged",()=>{const t=B(),e=pt(),n=e?{...t,...e}:t;Q(n,J(),j(),tt())});window.addEventListener("sundial:customTimeChanged",()=>{const t=B(),e=pt(),n=e?{...t,...e}:t;Q(n,J(),j(),tt())});window.addEventListener("sundial:customLocationChanged",()=>{const t=B(),e=pt(),n=e?{...t,...e}:t;Q(n,J(),j(),tt())});window.addEventListener("resize",()=>{Q(B(),J(),j(),tt())});At=requestAnimationFrame(Ke);window.addEventListener("beforeunload",()=>{At!==null&&cancelAnimationFrame(At)});
